<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="style.css" type = "text/css">
    <link rel="stylesheet" href="./style/css/bootstrap.css" type = "text/css">
    <link rel="icon" href="logo_appli.png">
    <script defer src="https://cdn.jsdelivr.net/npm/appwrite@8.0.0"></script>
    <script defer src="./style/js/bootstrap.bundle.js"></script>
    <title> S'inscrire</title>
</head>

<body>

    <div class="container" id="container">
        <div class="form-container sign-up">
            <form id="signupForm">
                <h1 class="text-center">Créér un compte</h1>
                <span>Ou utiliser votre email pour vous enregistrer</span>
                <input type="text" placeholder="Name" required id="nameInput">
                <input type="email" placeholder="Email" required id="emailInput">
                <input type="password" placeholder="Password" required id="passwordInput">
                <input type="password" placeholder="Confirmer le mot de passe" id="confirmPasswordInput">
                
                <button id="sigin">S'inscrire</button>
            </form>
        </div>
        <div class="form-container sign-in">
            <form id="loginForm">
                <h1 class="text-center">Connecter vous</h1>
                <br>
                <span>Ou utiliser votre mot de passe d-email</span>
                <input type="email" placeholder="Email" required id="emailInput2">
                <input type="password" placeholder="Password" required id="passwordInput2">
                <a href="#">Mot de passe oublié?</a>
                <button id="login1">Connexion</button>
            </form>
        </div>
        
        <div class="toggle-container">
            <div class="toggle">
                <div class="toggle-panel toggle-left">
                    <h1>Bienvenue!</h1>
                    <p>Remplissez les champs pour avoir accès au services</p>
                    <button class="hidden" id="login">Se Connecte</button>
                </div>
                <div class="toggle-panel toggle-right">
                    <h1>Salut, l'ami! </h1>
                    <p>Remplissez les champs pour avoir accès au services</p>
                    <button class="hidden" id="register">S'inscrire</button>
                </div>
            </div>
        </div>
    </div>

  <div class="modal fade" id="phoneModal" tabindex="-1" aria-labelledby="phoneModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
              <div class="modal-header bg-info text-white">
                  <h5 class="modal-title" id="phoneModalLabel">Entre votre numero de telephone</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                  <form id="phoneForm">
                      <div class="mb-3">
                          <label for="phoneInput" class="form-label">Numero</label>
                          <input type="tel" class="form-control" id="phoneInput" placeholder="e.g. MTN MOMO ou Orange money" required>
                          <div class="invalid-feedback">
                              Veuillez entrer un numero valide.
                          </div>
                      </div>
  
                      <div class="mb-3">
                          <label class="form-label">Choisissez un service</label>
                          <div class="form-check">
                              <input class="form-check-input" type="radio" name="serviceType" id="mtnOption" value="MTN" required>
                              <label class="form-check-label" for="mtnOption">
                                  MTN MOMO
                              </label>
                          </div>
                          <div class="form-check">
                              <input class="form-check-input" type="radio" name="serviceType" id="orangeOption" value="Orange" required>
                              <label class="form-check-label" for="orangeOption">
                                  Orange Money
                              </label>
                          </div>
                          <div class="invalid-feedback">
                              Veuillez choisir un service.
                          </div>
                      </div>
                  </form>
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                  <button type="submit" form="phoneForm" class="btn btn-primary">Soumettre le numéro</button>
              </div>
          </div>
      </div>
  </div>
  
      <!-- Bootstrap JS Bundle (includes Popper) -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
      
      <!-- Custom JavaScript -->
      <script>
        // Reference to the Bootstrap Modal
        var phoneModal = new bootstrap.Modal(document.getElementById('phoneModal'));
    
        // When the main form is submitted
        document.getElementById('signupForm').addEventListener('submit', function (event) {
          event.preventDefault(); // Prevent default submission behavior
          
          // You can gather data from the main form if needed
          const nameValue = document.getElementById('nameInput').value.trim();
          console.log('Main form submitted. Name:', nameValue);
          
          // Show the phone number prompt modal
          phoneModal.show();
        });
    
        // Handling the phone number form submission inside the modal
        document.getElementById('phoneForm').addEventListener('submit', function (event) {
          event.preventDefault(); // Prevent default form submission
          
          // Get the phone number value and validate
          const phoneInput = document.getElementById('phoneInput');
          const phoneValue = phoneInput.value.trim();
          
          if (!phoneValue) {
            phoneInput.classList.add('is-invalid');
            return;
          } else {
            phoneInput.classList.remove('is-invalid');
          }
          
          console.log('Phone number submitted:', phoneValue);
          
          // You can now combine data from the main form and the phone input as needed to process or submit to your server
          
          // Hide the modal on successful submission
          phoneModal.hide();
    
          // Optionally, display a success message
          const successAlert = document.createElement('div');
          successAlert.className = 'alert alert-success alert-dismissible fade show mt-3';
          successAlert.role = 'alert';
          successAlert.innerHTML = 'Thank you! Your information has been submitted.<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>';
          document.body.prepend(successAlert);
        });
      </script>

    <script src="script.js"></script>
</body>

</html>
